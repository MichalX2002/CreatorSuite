@{
	ViewData["Title"] = "Home";
}
@section Styles {
	<link rel="stylesheet" type="text/css" href="~/css/ViewSheet.css" />
}

hej guis


@section Scripts {
	<script src="~/lib/signalr/signalr.min.js"></script>
	<script>
		const connection = new signalR.HubConnectionBuilder()
			.withUrl("/chathub")
			.configureLogging(signalR.LogLevel.Information)
			.build();

		connection.on("ReceiveMessageFrom", (user, message) => {
			const encodedMsg = user + " says " + message;
			console.log("ReceiveMessageFrom: " + encodedMsg);
		});

		connection.on("ReceiveMessage", (message) => {
			console.log("ReceiveMessage: " + message);
		});

		connection.start().then(() => {
			connection.invoke("ReceiveMessage", "hehe ;)").catch(err => console.error(err.toString()));
		});

	</script>
}